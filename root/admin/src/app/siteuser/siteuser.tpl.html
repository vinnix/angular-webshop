<div ng-controller="SiteuserCtrl">
    <div class="row">
        <div class="col-md-4">
            <h1>Siteuser</h1>

            <h2>Choose user or action:</h2>

            <select ng-model="siteuser" ng-options="siteuser.id as siteuser.username for siteuser in siteusers | orderBy:'username'" size="12"></select>

            <div class="btn-group">
                <button class="btn btn-default btn-primary" ng-click="openuser()">Open selected</button>
                <button class="btn btn-default" ng-click="createuser()">Create new</button>
            </div>

        </div>
        <div class="col-md-6" ng-show="edit">

            <h2>{{ mode }}:</h2>

            <input type="hidden" ng-model="edit.id">

            <div class="form-horizontal">
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="email">E-mail:</label>
                    <div class="col-sm-8">
                        <input class="form-control input-sm" id="email" type="text" ng-model="edit.email">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="username">Username:</label>
                    <div class="col-sm-8">
                        <input class="form-control input-sm" id="username" type="text" ng-model="edit.username">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="password1">Password:</label>
                    <div class="col-sm-8">
                        <input class="form-control input-sm" id="password1" type="password" ng-model="edit.password1">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="password2">Password (again):</label>
                    <div class="col-sm-8">
                        <input class="form-control input-sm" id="password2" type="password" ng-model="edit.password2">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="first_name">Firstname:</label>
                    <div class="col-sm-8">
                        <input class="form-control input-sm" id="first_name" type="text" ng-model="edit.first_name">
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-2 control-label" for="last_name">Lastname:</label>
                    <div class="col-sm-8">
                        <input class="form-control input-sm" id="last_name" type="text" ng-model="edit.last_name">
                    </div>
                </div>
            </div>

            <div ng-show="edit.id">

                <h3>User roles:</h3>

                <div class="form-horizontal">
                    <div class="form-group">
                        <div class="col-sm-2" ng-repeat="role in edit.roles | orderBy:'text'">
                            <label class="control-label">
                                <input type="checkbox" checklist-model="edit.siteuser_roles" checklist-value="role.id">
                                {{ role.text }}
                            </label>
                        </div>
                    </div>
                </div>
                
            </div>

            <p>
                <button class="btn btn-default btn-primary" ng-click="saveuser()">Save user</button>
                <button class="btn btn-default btn-danger" ng-click="removeuser()" ng-show="edit.id">Remove user</button>
            </p>                

        </div>
    </div>
</div>